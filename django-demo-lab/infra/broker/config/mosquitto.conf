# === 기본 브로커 설정 ===
persistence true
persistence_location /mosquitto/data/
autosave_interval 60

log_type all
log_timestamp true
log_dest file /mosquitto/log/mosquitto.log

# === 리스너 ===
# MQTT (TCP)
listener 1883
protocol mqtt

# MQTT over WebSocket
listener 9001
protocol websockets

# 데모/로컬용 (운영에선 비활성하고 password_file/acl_file 사용)
allow_anonymous true

# === 운영 전환 시 예시 ===
# allow_anonymous false
# password_file /mosquitto/config/passwords
# acl_file /mosquitto/config/acl