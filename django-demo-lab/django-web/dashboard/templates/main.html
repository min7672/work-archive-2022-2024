{% extends "base.html" %}
{% load static %}

{% block content %}

<head>
    <link rel="stylesheet" href="{% static 'css/main.css' %}" />
    
</head>
<!-- Main -->

<main class="div-8">
    <!-- 카드 래퍼: 그리드 배치 -->
    <div class="div-9 cards">

        <!-- VIEW -->
        <section class="div-10 card" aria-labelledby="publisher-heading">
            <header class="div-11">
                <div class="div-12">
                    <h2 id="publisher-heading" class="text-wrapper-10">VIEW</h2>
                    <div class="div-13" role="status" aria-label="Connection status">
                        <span class="div-14" aria-hidden="true"></span>
                    </div>
                </div>
            </header>

            <div class="view-image-wrapper">
                <svg width="720" height="513" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink">
                    <defs>
                        <linearGradient gradientUnits="objectBoundingBox" y2="100%" x2="0%" y1="0%" x1="11%"
                            id="soc-f1-1-grad">
                            <stop stop-color="#A9E3FF" offset="0.05" />
                            <stop stop-color="#A9E3FF" offset="0.15" />
                            <stop stop-color="#A9E3FF" offset="0.20" />
                            <stop stop-color="#A9E3FF" offset="0.25" />
                            <stop stop-color="#A9E3FF" offset="0.30" />
                            <stop stop-color="#A9E3FF" offset="0.35" />
                            <stop stop-color="#A9E3FF" offset="0.45" />
                            <stop stop-color="#A9E3FF" offset="0.50" />
                            <stop stop-color="#A9E3FF" offset="0.60" />
                            <stop stop-color="#5FF272" offset="0.65" />
                            <stop stop-color="#5FF272" offset="0.70" />
                            <stop stop-color="#5FF272" offset="0.75" />
                            <stop stop-color="#5FF272" offset="0.80" />
                            <stop stop-color="#5FF272" offset="0.85" />
                            <stop stop-color="#5FF272" offset="0.95" />
                            <stop stop-color="#5FF272" offset="1" />
                        </linearGradient>
                        <linearGradient gradientUnits="objectBoundingBox" y2="100%" x2="0%" y1="0%" x1="11%"
                            id="soc-f1-2-grad">
                            <stop stop-color="#A9E3FF" offset="0.05" />
                            <stop stop-color="#A9E3FF" offset="0.15" />
                            <stop stop-color="#A9E3FF" offset="0.20" />
                            <stop stop-color="#A9E3FF" offset="0.25" />
                            <stop stop-color="#A9E3FF" offset="0.30" />
                            <stop stop-color="#A9E3FF" offset="0.35" />
                            <stop stop-color="#5FF272 " offset="0.45" />
                            <stop stop-color="#5FF272" offset="0.50" />
                            <stop stop-color="#5FF272" offset="0.60" />
                            <stop stop-color="#5FF272" offset="0.65" />
                            <stop stop-color="#5FF272" offset="0.70" />
                            <stop stop-color="#5FF272" offset="0.75" />
                            <stop stop-color="#5FF272" offset="0.80" />
                            <stop stop-color="#5FF272" offset="0.85" />
                            <stop stop-color="#5FF272" offset="0.95" />
                            <stop stop-color="#5FF272" offset="1" />
                        </linearGradient>
                    </defs>
                    <g>
                        <title>Layer 1</title>
                        <image x="1.25051" y="0.00029" width="718.24871" height="598.00023" id="svg_1"
                            xlink:href="{% static 'img/energy_system_isometric.png' %}" stroke="null" />
                    </g>
                    <g>
                        <title>Layer 2</title>
                        <g stroke="null" id="b1" opacity="0.9"
                            transform="rotate(-0.310912 130.474 204) translate(178 95) scale(0.12 0.12)">
                            <path stroke="null" id="svg_3" fill="url(#soc-f1-1-grad)"
                                d="m-541.90034,411.07112l291.7079,115.57628l0,878.95346l-291.7079,-139.92009l0,-854.60966l0,0.00001z" />
                        </g>
                        <g stroke="null" id="b2" opacity="0.9" transform="translate(178 95) scale(0.12 0.12)">
                            <path stroke="null" id="svg_5" fill="url(#soc-f1-2-grad)"
                                d="m31.55522,653.69292l270.91576,117.19251l0,891.24486l-270.91576,-141.87675l0,-866.56063l0,0.00001z" />
                        </g>
                    </g>
                    <g>
                        <title>Layer 3</title>
                        <line id="line-animation1" class="line-animation1" y2="334.0122" x2="289.53659" y1="305.0122" x1="225.53659" />
                        <line id="line-animation2" class="line-animation2" y2="389.59756" x2="409.65854" y1="365.54878" x1="355.14634" />
                    </g>
                </svg>
            </div>

        </section>

        <!-- Controller -->
        <section class="div-51 card controller" aria-labelledby="log-heading">
            <header class="div-52">
                <div class="div-53">
                    <h2 id="log-heading" class="text-wrapper-47">Controller</h2>
                </div>
            </header>

            <div class="div-56 log-body" role="region" aria-label="PCS Direction & Status">
                <!-- 배터리별 슬라이더 -->
                <ul class="legend-list">
                    <li class="legend-row">
                        <span class="dot" aria-hidden="true"></span>
                        <span class="legend-text">Battery-1</span>
                        <span class="legend-suffix"><span id="b1-val">30</span>%</span>
                        <input type="range" class="soc-slider" value="30" min="0" max="100" step="1"
                            data-target="soc-f1-1-grad">
                    </li>

                    <li class="legend-row">
                        <span class="dot" aria-hidden="true"></span>
                        <span class="legend-text">Battery-2</span>
                        <span class="legend-suffix"><span id="b2-val">60</span>%</span>
                        <input type="range" class="soc-slider" value="60" min="0" max="100" step="1"
                            data-target="soc-f1-2-grad">
                    </li>
                </ul>

                <!-- 방향/상태 (버튼만 클릭 가능) -->
                <ul class="legend-list">
                    <li class="legend-row status-row">
                        <span class="dot" aria-hidden="true"></span>
                        <span class="legend-text">Direction: <strong>Grid → Battery</strong></span>
                        <button type="button" class="legend-suffix charging">Charging</button>
                    </li>
                    <li class="legend-row status-row">
                        <span class="dot" aria-hidden="true"></span>
                        <span class="legend-text">Direction: <strong>Battery → Grid</strong></span>
                        <button type="button" class="legend-suffix discharging">Discharging</button>
                    </li>
                </ul>
            </div>
        </section>

    </div>
</main>
<script src="{% static '/js/main.js'%}"></script>
{% endblock %}